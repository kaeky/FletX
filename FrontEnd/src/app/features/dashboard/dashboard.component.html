<div class="dashboard-container">
  <h1>Dashboard</h1>

  <div *ngIf="loading" class="loading-spinner">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <div *ngIf="error" class="error-message">
    <mat-error>{{ error }}</mat-error>
  </div>

  <div *ngIf="!loading && !error" class="dashboard-content">
    <div class="stats-cards">
      <mat-card class="stats-card companies">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>business</mat-icon>
          </div>
          <div class="card-data">
            <span class="card-title">Companies</span>
            <span class="card-value">{{ totalCompanies }}</span>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stats-card products">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>shopping_cart</mat-icon>
          </div>
          <div class="card-data">
            <span class="card-title">Products</span>
            <span class="card-value">{{ totalProducts }}</span>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stats-card users">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>people</mat-icon>
          </div>
          <div class="card-data">
            <span class="card-title">Users</span>
            <span class="card-value">{{ totalUsers }}</span>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="recent-data">
      <div class="recent-companies">
        <h2>Recent Companies</h2>
        <mat-card>
          <mat-card-content>
            <mat-list>
              <mat-list-item *ngFor="let company of companies.slice(0, 5)">
                <span matListItemTitle>{{ company.name }}</span>
                <span matListItemLine>{{ company.sector }}</span>
              </mat-list-item>
              <mat-list-item *ngIf="companies.length === 0">
                <span matListItemTitle>No companies available</span>
              </mat-list-item>
            </mat-list>
          </mat-card-content>
          <mat-card-actions align="end">
            <button mat-button color="primary" routerLink="/companies">View All</button>
          </mat-card-actions>
        </mat-card>
      </div>

      <div class="recent-products">
        <h2>Recent Products</h2>
        <mat-card>
          <mat-card-content>
            <mat-list>
              <mat-list-item *ngFor="let product of products.slice(0, 5)">
                <span matListItemTitle>{{ product.name }}</span>
                <span matListItemLine>{{ product.category }} - ${{ product.price }}</span>
              </mat-list-item>
              <mat-list-item *ngIf="products.length === 0">
                <span matListItemTitle>No products available</span>
              </mat-list-item>
            </mat-list>
          </mat-card-content>
          <mat-card-actions align="end">
            <button mat-button color="primary" routerLink="/products">View All</button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>
</div>
